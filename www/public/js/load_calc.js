"use strict";function CalcSafety(e){var t,n=+(e/1e3).toFixed(3),d=1;return document.getElementById("safetyToggle").checked||(t=[],e=[],d="cargo"==document.getElementById("vesselType").value?(t.push(20),t.push(150),e.push(1.75),e.push(1.25),LinearInterpolation(n,t,e)):"container"==document.getElementById("vesselType").value?(t.push(50),t.push(150),e.push(2),e.push(1.5),LinearInterpolation(n,t,e)):2),d}function KineticEnergy(e,t,n,d){return+((document.getElementById("sf").innerHTML=e)*d*(t*n*n/2)).toFixed(3)}function Eccentricity(e,t){var n=document.getElementById("vesselLength").value,d=document.getElementById("vesselWidth").value,c=document.getElementById("centerOfMassDistance").value,n=(.19*(t/(document.getElementById("waterDensity").value*n*d*document.getElementById("vesselDraught").value))+.11)*n,d=Math.sqrt(c*c+Math.pow(d/2,2));return+((Math.pow(n,2)+Math.pow(d,2)*(Math.cos(e*(Math.PI/180))*Math.cos(e*(Math.PI/180))))/(Math.pow(n,2)+Math.pow(d,2))).toFixed(4)}function AddedMass(e){var t,n=1.1;return e&&(n=1.1<(t=document.getElementById("waterDepth").value)/(e=document.getElementById("vesselDraught").value)&&t/e<1.5?2.625-t/e*.75:t/e<=1.1?1.8:1.5),+n.toFixed(3)}function CalcVelocity(e){e=+(e/1e3).toFixed(3);var t,n,d;return+(document.getElementById("gateEntrance").checked?(n=parseInt(document.getElementById("vesselVelocity").value),d=parseInt(document.getElementById("mooringAngle").value),n*Math.sin(d*(Math.PI/180))):(t=document.getElementById("waterAreaClose").checked,n=document.getElementById("mooringAverage").checked,d=document.getElementById("mooringEasy").checked,LinearInterpolation(e,[1,2,3,4,5,10,20,30,40,50,100,200,300,400],t?n?[.34,.3,.27,.25,.24,.19,.15,.13,.12,.11,.08,.08,.08,.08]:[.18,.15,.14,.13,.12,.09,.08,.08,.08,.08,.08,.08,.08,.08]:(document.getElementById("mooringDifficult").checked,n?[.67,.58,.52,.49,.46,.38,.3,.26,.24,.22,.17,.13,.11,.1]:d?[.52,.45,.4,.37,.35,.29,.23,.2,.18,.16,.13,.1,.08,.08]:[.87,.73,.65,.6,.56,.45,.36,.31,.28,.26,.2,.16,.14,.12])))).toFixed(2)}function LinearInterpolation(e,t,n){var d=0;if(e>t[t.length-1]||e<t[0])d=e>t[t.length-1]?n[t.length-1]:n[0];else for(var c=0;c<t.length;c++)e>=t[c]&&e<t[c+1]&&(d=n[c]+(e-t[c])*((n[c+1]-n[c])/(t[c+1]-t[c])));return d}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CalcStart=CalcStart,exports.finalEnergy=void 0;var finalEnergy={Min:0,Max:0};function CalcStart(){var e=document.getElementById("vesselVolume").value,t=CalcVelocity(e),n=AddedMass(document.getElementById("sideApproach").checked),d=1,c=document.getElementById("towing").checked,l=document.getElementById("solidStructure").checked,o=parseInt(document.getElementById("mooringAngle").value);(c&&l||l&&o<5)&&(d=.9);c=[];document.getElementById("aproximateToggle").checked?document.getElementById("thirdMooring").checked?(c.push(.6),c.push(.8)):document.getElementById("quarterMooring").checked?(c.push(.4),c.push(.6)):c.push(1):10<=(l=parseInt(document.getElementById("velocityAngle").value))?(g=Eccentricity(l,e),c.push(g)):c.push(1);var r=.9;document.getElementById("materialsHardnessToggle").checked&&(r=1);for(var a=[],m=0,u=c;m<u.length;m++){var i=+(r*d*n*u[m]).toFixed(3);a.push(i)}var g=0,g=CalcSafety(e);finalEnergy.Min=KineticEnergy(g,e,t,a[0]),1!=a.length&&(finalEnergy.Max=KineticEnergy(g,e,t,a[1])),document.getElementById("vv").innerHTML=+e/1e3,document.getElementById("ma").innerHTML=o,document.getElementById("vn").innerHTML=t,document.getElementById("am").innerHTML=n,document.getElementById("th").innerHTML=d,document.getElementById("cs").innerHTML=r,document.getElementById("sf").innerHTML=g.toFixed(2),1<c.length?(document.getElementById("ecc-min").innerHTML=c[0],document.getElementById("ecc-max").innerHTML=c[1],document.getElementById("gb-min").innerHTML=a[0],document.getElementById("gb-max").innerHTML=a[1],document.getElementById("resultEn-min").innerHTML=finalEnergy.Min,document.getElementById("resultEn-max").innerHTML=finalEnergy.Max):(document.getElementById("ecc").innerHTML=c,document.getElementById("gb").innerHTML=a,document.getElementById("resultEn").innerHTML=finalEnergy.Min)}exports.finalEnergy=finalEnergy;